1. >На лекции мы обсудили, что манипулировать размером окна необходимо для эффективного наполнения приемного буфера участников TCP сессии (Flow Control). Подобная проблема в полной мере возникает в сетях с высоким RTT. Например, если вы захотите передать 500 Гб бэкап из региона Юга-Восточной Азии на Восточное побережье США. Здесь вы можете увидеть и 200 и 400 мс вполне реального RTT. Подсчитайте, какого размера нужно окно TCP чтобы наполнить 1 Гбит/с канал при 300 мс RTT (берем простую ситуацию без потери пакетов). Можно воспользоваться готовым калькулятором. Ознакомиться с формулами, по которым работает калькулятор можно, например, на Wiki.
  
![Screenshot](https://gitlab.com/SobolevES/devops-netology/-/raw/main/pics/1_net2.JPG)  
вики почитал, формулы посмотрел, все понятно  
2. >Во сколько раз упадет пропускная способность канала, если будет 1% потерь пакетов при передаче?  
  
Неожиданно, но в 10 раз.  
  
![Screenshot](https://gitlab.com/SobolevES/devops-netology/-/raw/main/pics/2_net2.JPG)  
  
3. >Какая максимальная реальная скорость передачи данных достижима при линке 100 Мбит/с?
   Вопрос про TCP payload, то есть цифры, которые вы реально увидите в операционной системе в тестах или в браузере при скачивании файлов.
   Повлияет ли размер фрейма на это?

![Screenshot](https://gitlab.com/SobolevES/devops-netology/-/raw/main/pics/3.1_net2.JPG)  
![Screenshot](https://gitlab.com/SobolevES/devops-netology/-/raw/main/pics/3.2_net2.JPG)

Во-первых, линк 100м/с, который мы видим у себя в настройках подключения - это всего лишь канальная скорость между роутером и устройством (физ уровень).  
А реальная скорость будет почти всегда ниже в 2-3 раза. Основная причина это как раз размер фрейма, который содержит много служебной информации - заголовков,  
размер которых не меняется при изменении размера фрейма, а изменяется поле “полезной” части (payload). Это значит, что несмотря на то, что даже если мы передаем данные на скорости линка,   
количество полезной информации переданной за тот же период времени может сильно варьироваться, что мы и видим при скачивании файлов и тестах.  
Ну так же скорость может зависеть от потери пакетов, повторную отправку их, ну и внешние факторы, например много коннектов к железкам провайдера.

4. >Что на самом деле происходит, когда вы открываете сайт? :) На прошлой лекции был приведен сокращенный вариант ответа на этот вопрос. Теперь вы знаете намного больше, в частности про IP адресацию, DNS и т.д. Опишите максимально подробно насколько вы это можете сделать, что происходит, когда вы делаете запрос `curl -I http://netology.ru` с вашей рабочей станции. Предположим, что arp кеш очищен, в локальном DNS нет закешированных записей.

   -ввели любой урл в браузере  
   -браузер пытается найти запись об адресе сайта у себя в кеше, в кэше роутера, но ничего не находит (наше условие задания:) )  
   -браузер обращается к ближайшему DNS серверу чтобы найти нужный нам урл  
   -если 1й DNS-сервер не сможет найти наш урл, то он форварднет нас дальше на другой и т.д., пока кто нибудь не найдет урл в своем списке.  
   -ура, нашли. DNS-сервер возвращает нам айпишник сервера, на котором находится этот сайт.  
   -устанавливается соединение по протоколу, я так думаю, TCP  
   -ну потом обычная жизнь TCP  
   -Браузер отправлет SYN  
   -сервер отвечает SYN/ACK  
   -Браузер отправляет подтверждение - ACK (ну это если нас на предыдущем шаге пришел SYN/ACK)  
   -Отлично, коннект саксесфул!)  
   -----`curl -I http://netology.ru`   - на этом этапе мы уже получаем ответы на наш запрос. Хотели заголовки, без тела - получайте)  
   -браузер посылает http запрос на сервер (GET/POST)  
   -тут может быть такое, что используется ssl и тогда нас редиректнет на https  
   -сервер его обрабатывает и отправлет ответ обратно браузеру  
   -ну а браузер уже нам показывает все в человеческом виже

5. >Сколько и каких итеративных запросов будет сделано при резолве домена `www.google.co.uk`?

Ну как минимум 1 рекурсивный и 4 итеративных.
  
    1) мы выполняем рекурсивный запрос к нашему DNS-резолверу  
    2) DNS-резолвер выполняет итеративный запрос к корневому DNS-серверу и спрашивает "ты знаешь айпишник www.google.co.uk?". Нет, но знаю кто ответственный за домен 1го уровня .uk, вот тебе его айпишник.  
    3) DNS-резолвер выполняет итеративный запрос к ответственному DNS-серверу домена *.uk и спрашивает "ты знаешь айпишник www.google.co.uk?". нет, спроси у ответственного домена 2го уровня .co, держи его айпи  
    5) DNS-резолвер выполняет итеративный запрос к ответственному DNS-серверу домена *.co и спрашивает "ты знаешь айпишник www.google.co.uk?". Нет, но знаю его авторитативный DNS-сервер, вот тебе ip  
    6) DNS-резолвер выполняет итеративный запрос к авторитативному DNS-серверу и спрашивает "Знаешь ip www.google.co.uk?" Да, держи ip  
    7) DNS-резолвер отдает нам айпи и мы можем подключиться к серваку по имени.  

6. >Сколько доступно для назначения хостам адресов в подсети /25? А в подсети с маской 255.248.0.0.  
   Постарайтесь потренироваться в ручных вычислениях чтобы немного набить руку, не пользоваться калькулятором сразу.

Все просто, если дана /подсеть, то переводим в двоичный вид (кол-во единичек(бит) = число подсети), кол-во 0 (бит) =  кол-во хостов 2^(кол-во 0).  
Если дана маска, в двоичной системе, то тоже раскладываем в бинарном виде.

25 - 255.255.255.128 - 11111111.11111111.11111111.10000000 - (2^7)-2зарезервированых = 126хоста  
13 - 255.248.0.0 - 11111111.11111000.00000000.00000000 - (2^19)-2зарезервированых = 524286

7. >В какой подсети больше адресов, в /23 или /24?

24 - 255.255.255.0 - 11111111.11111111.11111111.00000000  - (2^8)-2зарезервированых = 254хоста  
23 - 255.255.254.0 - 11111111.11111111.11111110.00000000  - (2^9)-2зарезервированых = 510хостов

8. >Получится ли разделить диапазон 10.0.0.0/8 на 128 подсетей по 131070 адресов в каждой? Какая маска будет у таких подсетей?

первично расчитаем сколько хостов вмещает в себя подсеть /8 (сетевой и бродкаст не учитываем)  
1111111.00000000.00000000.00000000  =  2^24= 16777214

делим полученное число хостов в /8 подсети  на  кол-во подсетей 128 , ну или на 131070  адресов, без разницы, и убеждаемся, что все сходится.  
131070 = 2^17, благодаря этим данным мы можем записать маску в двоичной системе,  17 ноликов в конце, остальное единицы

11111111.11111110.00000000.00000000  
Посчитав единички получим подсеть /15  
переводя в двоичную систему получим шлюз 255.254.0.0  








